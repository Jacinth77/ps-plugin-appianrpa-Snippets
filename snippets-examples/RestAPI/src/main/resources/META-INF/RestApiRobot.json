{"id":"RestApiRobot","robotType":"ROBOT","mainClass":"com.appian.rpa.robot.RestAPI.RestApiRobot","actions":["init","resetRetryNumber","end"],"conditionalActions":["startUp"],"fieldLinks":[],"actionDetails":[{"id":"init","implementation":"public void init() {\n    restApiUtils = RestApiUtils.getInstance();\n    this.consoleUrl = server.getEnvironmentVariables().get(EV_CONSOLE_URL);\n    this.endpoint = server.getEnvironmentVariables().get(EV_ENDPOINT);\n    this.itemID = server.getEnvironmentVariables().get(ITEM_ID);\n    // Gets the credentials\n    IUsernamePassword credentials = server.getCredential(CREDENTIAL_API_KEY, false, ECredentialSearch.FIRST_LISTED);\n    // Check if the credentials are null\n    if (credentials == null) {\n        throw new  JidokaFatalException(\"Robot doesn't have access to any credentials\");\n    }\n    this.apiKey = credentials.getPassword();\n}"},{"id":"resetRetryNumber","implementation":"public void resetRetryNumber() throws IOException {\n    try {\n        Map<String, Object> body = new  HashMap();\n        body.put(\"id\", itemID);\n        body.put(\"remainingAttempts\", 3);\n        restApiUtils.restApiCall(this.consoleUrl, this.endpoint, this.apiKey, body);\n    } catch (Exception e) {\n        throw new  JidokaFatalException(e.getMessage(), e);\n    }\n}"},{"id":"end","implementation":"public void end() {\n}"}],"conditionalActionDetails":[{"id":"startUp","implementation":"@Override\npublic boolean startUp() throws Exception {\n    this.server = (IJidokaServer<?>) JidokaFactory.getServer();\n    return IRobot.super.startUp();\n}"}],"sdkMethods":[]}